{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WIN 10\\\\Desktop\\\\H\\u1ECDc t\\u1EADp funix\\\\m\\xF4n Nodejs\\\\Assignment 2_ Phan Ho\\xE0ng \\xC2n_FX21936\\\\Client App\\\\src\\\\Components\\\\List\\\\ListCity.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport styles from \"./ListCity.module.css\";\nimport CityItem from \"./CityItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListCity = function (props) {\n  _s();\n  const [listCity, setListCity] = useState([{\n    name: \"Ha Noi\",\n    subText: \"0 properties\",\n    image: \"./images/HaNoi.jpg\"\n  }, {\n    name: \"Ho Chi Minh\",\n    subText: \"0 properties\",\n    image: \"./images/HCM.jpg\"\n  }, {\n    name: \"Da Nang\",\n    subText: \"0 properties\",\n    image: \"./images/DaNang.jpg\"\n  }]);\n  const getDataListCity = useCallback(async function () {\n    const response = await fetch(\"http://localhost:5000/home/listcity\");\n    const data = await response.json();\n    //Set state mới từ data backend gửi lên cho listCity\n    setListCity(prev => {\n      const updateListCity = [...prev].map(city => {\n        //index của city từ data backend fetch lên\n        const index = data.findIndex(c => {\n          return c.city === city.name;\n        });\n        //Cập nhật số hotel(properties có ở mỗi thành phố )\n        const updateCity = index >= 0 ? {\n          ...city,\n          subText: `${data[index].properties} properties`\n        } : {\n          ...city\n        };\n        return updateCity;\n      });\n      return updateListCity;\n    });\n  });\n  useEffect(() => {\n    getDataListCity();\n  }, []);\n  // Trả ra JSX code gồm các city được render bằng cách gọi phương thức map cho array\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.cityList,\n    children: listCity.map(city => {\n      return /*#__PURE__*/_jsxDEV(CityItem, {\n        name: city.name,\n        subText: city.subText,\n        image: city.image\n      }, city.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(ListCity, \"Qs9/guNzFgVOXwkRlDBQQv8XjnE=\");\n_c = ListCity;\nexport default ListCity;\nvar _c;\n$RefreshReg$(_c, \"ListCity\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","styles","CityItem","jsxDEV","_jsxDEV","ListCity","props","_s","listCity","setListCity","name","subText","image","getDataListCity","response","fetch","data","json","prev","updateListCity","map","city","index","findIndex","c","updateCity","properties","className","cityList","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/WIN 10/Desktop/Học tập funix/môn Nodejs/Assignment 2_ Phan Hoàng Ân_FX21936/Client App/src/Components/List/ListCity.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport styles from \"./ListCity.module.css\";\r\nimport CityItem from \"./CityItem\";\r\nconst ListCity = function (props) {\r\n  const [listCity, setListCity] = useState([\r\n    {\r\n      name: \"Ha Noi\",\r\n      subText: \"0 properties\",\r\n      image: \"./images/HaNoi.jpg\",\r\n    },\r\n    {\r\n      name: \"Ho Chi Minh\",\r\n      subText: \"0 properties\",\r\n      image: \"./images/HCM.jpg\",\r\n    },\r\n    {\r\n      name: \"Da Nang\",\r\n      subText: \"0 properties\",\r\n      image: \"./images/DaNang.jpg\",\r\n    },\r\n  ]);\r\n  const getDataListCity = useCallback(async function () {\r\n    const response = await fetch(\"http://localhost:5000/home/listcity\");\r\n    const data = await response.json();\r\n    //Set state mới từ data backend gửi lên cho listCity\r\n    setListCity((prev) => {\r\n      const updateListCity = [...prev].map((city) => {\r\n        //index của city từ data backend fetch lên\r\n        const index = data.findIndex((c) => {\r\n          return c.city === city.name;\r\n        });\r\n        //Cập nhật số hotel(properties có ở mỗi thành phố )\r\n        const updateCity =\r\n          index >= 0\r\n            ? {\r\n                ...city,\r\n                subText: `${data[index].properties} properties`,\r\n              }\r\n            : { ...city };\r\n\r\n        return updateCity;\r\n      });\r\n      return updateListCity;\r\n    });\r\n  });\r\n  useEffect(() => {\r\n    getDataListCity();\r\n  }, []);\r\n  // Trả ra JSX code gồm các city được render bằng cách gọi phương thức map cho array\r\n  return (\r\n    <div className={styles.cityList}>\r\n      {listCity.map((city) => {\r\n        return (\r\n          <CityItem\r\n            key={city.name}\r\n            name={city.name}\r\n            subText={city.subText}\r\n            image={city.image}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default ListCity;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC/D,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAOC,QAAQ,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAClC,MAAMC,QAAQ,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAAAC,EAAA;EAChC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,CACvC;IACEU,IAAI,EAAE,QAAQ;IACdC,OAAO,EAAE,cAAc;IACvBC,KAAK,EAAE;EACT,CAAC,EACD;IACEF,IAAI,EAAE,aAAa;IACnBC,OAAO,EAAE,cAAc;IACvBC,KAAK,EAAE;EACT,CAAC,EACD;IACEF,IAAI,EAAE,SAAS;IACfC,OAAO,EAAE,cAAc;IACvBC,KAAK,EAAE;EACT,CAAC,CACF,CAAC;EACF,MAAMC,eAAe,GAAGf,WAAW,CAAC,kBAAkB;IACpD,MAAMgB,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,CAAC;IACnE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClC;IACAR,WAAW,CAAES,IAAI,IAAK;MACpB,MAAMC,cAAc,GAAG,CAAC,GAAGD,IAAI,CAAC,CAACE,GAAG,CAAEC,IAAI,IAAK;QAC7C;QACA,MAAMC,KAAK,GAAGN,IAAI,CAACO,SAAS,CAAEC,CAAC,IAAK;UAClC,OAAOA,CAAC,CAACH,IAAI,KAAKA,IAAI,CAACX,IAAI;QAC7B,CAAC,CAAC;QACF;QACA,MAAMe,UAAU,GACdH,KAAK,IAAI,CAAC,GACN;UACE,GAAGD,IAAI;UACPV,OAAO,EAAG,GAAEK,IAAI,CAACM,KAAK,CAAC,CAACI,UAAW;QACrC,CAAC,GACD;UAAE,GAAGL;QAAK,CAAC;QAEjB,OAAOI,UAAU;MACnB,CAAC,CAAC;MACF,OAAON,cAAc;IACvB,CAAC,CAAC;EACJ,CAAC,CAAC;EACFpB,SAAS,CAAC,MAAM;IACdc,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EACN;EACA,oBACET,OAAA;IAAKuB,SAAS,EAAE1B,MAAM,CAAC2B,QAAS;IAAAC,QAAA,EAC7BrB,QAAQ,CAACY,GAAG,CAAEC,IAAI,IAAK;MACtB,oBACEjB,OAAA,CAACF,QAAQ;QAEPQ,IAAI,EAAEW,IAAI,CAACX,IAAK;QAChBC,OAAO,EAAEU,IAAI,CAACV,OAAQ;QACtBC,KAAK,EAAES,IAAI,CAACT;MAAM,GAHbS,IAAI,CAACX,IAAI;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIf,CAAC;IAEN,CAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAC1B,EAAA,CA5DIF,QAAQ;AAAA6B,EAAA,GAAR7B,QAAQ;AA6Dd,eAAeA,QAAQ;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}